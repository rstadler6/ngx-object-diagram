<svg xmlns="http://www.w3.org/2000/svg">
  <g>
    <g *ngFor="let entity of entities; let ei = index">
      <g
        #objComp
        ngx-object-diagram-entity
        [x]="50 + ei * 250"
        [entity]="entity"
        [title]="entity.values[displayName] + ' : ' + entity.values[typeNameProp]"
        [trackFields]="trackFields"
        (executeAction)="onAction()"
        (addAssoc)="onAddAssoc()"
      ></g>

      <g *ngFor="let assocObj of trackAssocs(entity.values); let ai = index">
        <g
          #assocObjComp
          ngx-object-diagram-entity
          [x]="50 + (ei + 1) * 350"
          [y]="150 + ai * 200"
          [entity]="entity"
          [title]="assocObj[displayName] + ' : ' + assocObj[typeNameProp]"
          [trackFields]="trackFields"
          (executeAction)="onAction()"
          (addAssoc)="onAddAssoc()"
        ></g>
        <g ngx-object-diagram-line [elem1]="objComp" [elem2]="assocObjComp"></g>
      </g>
    </g>
  </g>
</svg>
